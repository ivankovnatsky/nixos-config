# Podsync Configuration
# This file is managed by Nix - do not edit manually

[server]
port = 8082
hostname = "https://podsync.@externalDomain@"
bind_address = "@miniIp@"
web_ui = true

[storage]
  type = "local"

  [storage.local]
  data_dir = "@dataDir@"

[tokens]
youtube = "@youtubeApiKey@"
vimeo = "@vimeoApiKey@"

[cleanup]
# Keep last 50 episodes globally
keep_last = 50

[downloader]
# Use yt-dlp instead of youtube-dl
custom_binary = "@ytDlpPath@"
# Disable self-update for custom binary
self_update = false
# Download timeout in minutes
timeout = 15

[log]
# Log to file instead of stdout
filename = "@logDir@/podsync.log"
max_size = 50      # MB
max_age = 30       # days
max_backups = 7
compress = true
debug = false

# Feed configurations
[feeds.sternenko]
url = "https://www.youtube.com/@STERNENKO"
page_size = 50
cron_schedule = "@every 15m"
quality = "high"
format = "audio"
opml = true
clean = { keep_last = 10 }
filters = { min_duration = 300 }

[feeds.tze_vzhe_bulo]
url = "https://www.youtube.com/@tze_vzhe_bulo"
page_size = 3
cron_schedule = "34 0 * * *"
quality = "high"
format = "audio"
opml = true
clean = { keep_last = 3 }
filters = { min_duration = 300 }

[feeds.uttoronto]
url = "https://www.youtube.com/@uttoronto"
page_size = 50
cron_schedule = "@every 1h"
quality = "high"
format = "audio"
opml = true
clean = { keep_last = 50 }
filters = { min_duration = 300 }

[feeds.liga_net]
url = "https://www.youtube.com/@liga_net"
page_size = 50
cron_schedule = "@every 1h"
quality = "high"
format = "audio"
opml = true
clean = { keep_last = 50 }
filters = { min_duration = 300 }
